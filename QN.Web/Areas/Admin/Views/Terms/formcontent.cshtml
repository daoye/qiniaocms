@model term

@{
    string type = ViewBag.Type;
}

@Html.AntiForgeryToken()
@Html.HiddenFor(m => m.id)

<div class="form-group no-margin-hr">
    @Html.LabelFor(m => m.name, new { @class = "control-label", @id = "inputname" })
    @Html.TextBoxFor(m => m.name, new { @class = "form-control", @id = "inputname", @placeholder = lang("请输入分类名称") })
    @Html.ValidationMessageFor(m => m.name)
</div>
<div class="form-group no-margin-hr">
    @Html.LabelFor(m => m.slug, new { @class = "control-label", @id = "inputslug" })
    @Html.TextBoxFor(m => m.slug, new { @class = "form-control", @id = "inputslug", @placeholder = lang("请输入分类别名") })
    @Html.ValidationMessageFor(m => m.slug)
</div>
<div class="form-group no-margin-hr">
    @Html.LabelFor(m => m.info, new { @class = "control-label", @id = "inputinfo" })
    @Html.TextAreaFor(m => m.info, new { @class = "form-control", @id = "inputinfo", @placeholder = lang("请输入分类描述") })
    @Html.ValidationMessageFor(m => m.info)
</div>

<div class="form-group no-margin-hr">
    @Html.LabelFor(m => m.order, new { @class = "control-label", @id = "inputorder" })
    @Html.TextBoxFor(m => m.order, new { @class = "form-control", @id = "inputorder", @placeholder = lang("请输入顺序编号") })
    @Html.ValidationMessageFor(m => m.order)
</div>
<div class="form-group no-margin-hr">
    @Html.LabelFor(m => m.pic, new { @class = "control-label", @id = "inputurl" })
    @Html.TextBoxFor(m => m.pic, new { @class = "form-control", @id = "inputurl", @placeholder = lang("请选择分类图片") })
    @Html.ValidationMessageFor(m => m.pic)
</div>
<div class="form-group no-margin-hr">
    @Html.LabelFor(m => m.parent, new { @class = "control-label", @id = "selectroleid" })
    @Html.Partial("termdropdown", new termdropdown { 
            name = "parent", 
            selected = Model.parent, 
            defaulttext = lang("无父级分类").ToString(),
            termtype = ViewBag.Type
        })
    @Html.ValidationMessageFor(m => m.parent)
</div>

<hr />

<div class="form-group">
    <div class="col-lg-12">
        @if (Model.id > 0)
        {
            <input type="submit" class="btn btn-primary" value="@lang("更新")" />
            <a href="@Url.Action("delete", new { @id = Model.id, @returnurl = backurl })"
               ask="@lang("确定删除此分类吗（此操作将不可恢复。）？")"
               class="btn btn-danger">@lang("删除")</a>
        }
        else
        {
            <input type="submit" class="btn btn-primary" value="@lang("创建")" />
        }
    </div>
</div>
